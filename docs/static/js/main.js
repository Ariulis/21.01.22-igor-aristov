const isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent),body=document.body,headerBody=document.querySelector(".header__body"),sections=document.querySelectorAll("section"),ibgElements=document.querySelectorAll(".ibg"),copyBlock=document.querySelector(".footer__copy"),moneyBlock=document.querySelector(".icon-money"),phoneInput=document.querySelectorAll('input[name="phone"]'),im=new Inputmask("+99 (999) 999-99-99"),form=document.querySelector(".contacts__form"),contactsSection=document.querySelector(".contacts"),consultationButton=document.querySelector(".header__btn");async function formSend(e){e.preventDefault();var t=formValidate(form),e=new FormData(form);if(0===t){contactsSection.classList.add("sending");const o=await fetch("sendmail.php",{method:"POST",body:e});o.ok?(e=await o.json(),alert(e.message),form.reset()):(form.reset(),alert("Error!")),contactsSection.classList.remove("sending")}}function formValidate(e){let t=0;var o=e.querySelectorAll(".validate");for(let e=0;e<o.length;e++){const n=o[e];formRemovError(n),n.classList.contains("req")&&""===n.value?(formAddError(n),t++,n.nextElementSibling.innerHTML="Это поле нужно заполнить",n.nextElementSibling.style.display="block"):n.classList.contains("email")&&isEmail(n)&&(formAddError(n),t++,n.nextElementSibling.innerHTML="Введите корректый email",n.nextElementSibling.style.display="block")}return t}function formAddError(e){e.parentElement.classList.add("error"),e.classList.add("error")}function formRemovError(e){e.parentElement.classList.remove("error"),e.classList.remove("error"),e.nextElementSibling.style.display="none"}function isEmail(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}if(consultationButton&&consultationButton.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:contactsSection.getBoundingClientRect().top,behavior:"smooth"})}),document.addEventListener("DOMContentLoaded",function(){isMobile?body.classList.add("_touch"):body.classList.add("_pc")}),0<ibgElements.length&&ibgElements.forEach(e=>{var t;e.querySelector("img")&&(t=e.querySelector("img").currentSrc.replace("http://localhost:3000","."),e.style.setProperty("background-image",`url('${t}')`))}),im.mask(phoneInput),form.addEventListener("submit",formSend),document.addEventListener("click",function(e){e.target.classList.contains("icon-money")&&e.target.classList.toggle("active")}),copyBlock){const r=copyBlock.innerHTML;copyBlock.innerHTML=(new Date).getFullYear()+" "+r}const swiper=new Swiper(".swiper-container",{autoHeight:!0,slidesPerView:1,speed:800,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});